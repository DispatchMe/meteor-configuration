// TODO
// Make sure extending happens in the correct order and with proper deep extension
// Verify that publication is dictated by the publish functions
// Verify that client-side write is dictated by the write functions
